{"version":3,"sources":["webpack:///E:/uni/city_dynamic/cal/components/mpvueGestureLock/index.vue","webpack:///E:/uni/city_dynamic/cal/pages/template/gesture-lock/gesture-lock.vue","webpack:///E:/uni/city_dynamic/cal/components/mpvueGestureLock/index.vue?c701","webpack:///E:/uni/city_dynamic/cal/components/mpvueGestureLock/index.vue?a1eb","webpack:///E:/uni/city_dynamic/cal/pages/template/gesture-lock/gesture-lock.vue?2dbf","webpack:///E:/uni/city_dynamic/cal/components/mpvueGestureLock/gestureLock.js","webpack:///E:/uni/city_dynamic/cal/components/mpvueGestureLock/index.vue?1ae0","webpack:///E:/uni/city_dynamic/cal/components/mpvueGestureLock/index.vue?7bbb","webpack:///E:/uni/city_dynamic/cal/components/mpvueGestureLock/index.vue?2c1d","webpack:///E:/uni/city_dynamic/cal/components/mpvueGestureLock/index.vue?11c5","webpack:///E:/uni/city_dynamic/cal/main.js","webpack:///E:/uni/city_dynamic/cal/pages/template/gesture-lock/gesture-lock.vue?5336","webpack:///E:/uni/city_dynamic/cal/pages/template/gesture-lock/gesture-lock.vue?4728","webpack:///E:/uni/city_dynamic/cal/pages/template/gesture-lock/gesture-lock.vue?4416"],"names":["name","props","containerWidth","Number","String","cycleRadius","password","type","Array","default","data","gestureLock","circleArray","lineArray","activeLine","error","methods","onTouchStart","e","refesh","onTouchMove","onTouchEnd","checkPoints","length","join","$emit","setTimeout","getCycleArray","getLineArray","getActiveLine","mounted","GestureLock","components","mpvueGestureLock","title","text","onEnd","lastCheckPoint","offsetX","offsetY","windowWidth","wx","getSystemInfoSync","initCircleArray","cycleMargin","count","i","j","push","x","rpxTopx","y","radius","check","style","left","top","width","setOffset","checkTouch","touches","pageX","pageY","moveDraw","reset","currentTarget","offsetLeft","offsetTop","point","isPointInCycle","line","drawLine","start","end","getPointDis","rotate","getAngle","activeLeft","activeTop","activeWidth","activeRotate","diff_x","diff_y","Math","atan","PI","circleX","circleY","ax","ay","bx","by","sqrt","pow","forEach","item","rpx","Page","App"],"mappings":"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","file":"pages/template/gesture-lock/gesture-lock.js","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport GestureLock from './gestureLock';\n\nexport default {\n    name: 'index',\n    props: {\n        /**\n         * 容器宽度\n         */\n        containerWidth: [Number, String],\n        /**\n         * 圆的半径\n         */\n        cycleRadius: [Number, String],\n        /**\n         * 已设定的密码\n         */\n        password: {\n            type: Array,\n            default: []\n        },\n    },\n    data() {\n        return {\n            gestureLock: {}, // 锁对象\n            circleArray: [], // 圆对象数组\n            lineArray: [], // 已激活锁之间的线段\n            activeLine: {}, // 最后一个激活的锁与当前位置之间的线段\n            error: false\n        }\n    },\n    methods: {\n        onTouchStart(e) {\n            this.gestureLock.onTouchStart(e);\n            this.refesh();\n        },\n\n        onTouchMove(e) {\n            this.gestureLock.onTouchMove(e);\n            this.refesh();\n        },\n\n        onTouchEnd(e) {\n            const checkPoints = this.gestureLock.onTouchEnd(e);\n            if (!this.password.length || checkPoints.join('') == this.password.join('')) {\n                this.refesh();\n                this.$emit('end', checkPoints);\n            } else {\n                this.error = true;\n                setTimeout(() => {\n                    this.refesh();\n                    this.$emit('end', checkPoints);\n                }, 800);\n            }\n\n        },\n        refesh() {\n            this.error = false;\n            this.circleArray = this.gestureLock.getCycleArray();\n            this.lineArray = this.gestureLock.getLineArray();\n            this.activeLine = this.gestureLock.getActiveLine();\n        }\n    },\n    mounted() {\n        this.gestureLock = new GestureLock(this.containerWidth, this.cycleRadius);\n        this.refesh();\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n    import mpvueGestureLock from '@/components/mpvueGestureLock';\n\n    export default {\n        components: {\n            mpvueGestureLock\n        },\n        data() {\n            return {\n\t\t\t\ttitle : \"手势图案\",\n                password: [],\n                text: '请设定手势'\n            }\n        },\n        methods: {\n            onEnd(data) {\n                if (this.password.length) {\n                    if (this.password.join('') === data.join('')) {\n                        this.text = '手势设定完成'\n                        this.password = []\n                    } else {\n                        this.text = '两次手势设定不一致'\n                        this.password = []\n                    }\n                } else {\n                    this.text = '请确认手势设定'\n                    this.password = data\n                }\n            }\n        }\n    }\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"gesture-lock\",\n      class: { error: _vm.error },\n      style: {\n        width: _vm.containerWidth + \"rpx\",\n        height: _vm.containerWidth + \"rpx\"\n      },\n      attrs: { eventid: \"f0c268a0-0\" },\n      on: {\n        touchstart: function($event) {\n          $event.stopPropagation()\n          _vm.onTouchStart($event)\n        },\n        touchmove: function($event) {\n          $event.stopPropagation()\n          _vm.onTouchMove($event)\n        },\n        touchend: function($event) {\n          $event.stopPropagation()\n          _vm.onTouchEnd($event)\n        }\n      }\n    },\n    [\n      _vm._l(_vm.circleArray, function(item, i) {\n        return _c(\"div\", {\n          key: i,\n          staticClass: \"cycle\",\n          class: { check: item.check },\n          style: {\n            left: item.style.left,\n            top: item.style.top,\n            width: item.style.width,\n            height: item.style.width\n          }\n        })\n      }),\n      _vm._l(_vm.lineArray, function(item, i) {\n        return _c(\"div\", {\n          key: i,\n          staticClass: \"line\",\n          style: {\n            left: item.activeLeft,\n            top: item.activeTop,\n            width: item.activeWidth,\n            transform: \"rotate(\" + item.activeRotate + \")\"\n          }\n        })\n      }),\n      _c(\"div\", {\n        staticClass: \"line\",\n        style: {\n          left: _vm.activeLine.activeLeft,\n          top: _vm.activeLine.activeTop,\n          width: _vm.activeLine.activeWidth,\n          transform: \"rotate(\" + _vm.activeLine.activeRotate + \")\"\n        }\n      })\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    [\n      _c(\"page-head\", { attrs: { title: _vm.title, mpcomid: \"69ecd97c-0\" } }),\n      _c(\"view\", { staticClass: \"uni-padding-wrap uni-common-mt\" }, [\n        _c(\n          \"view\",\n          [\n            _c(\"mpvue-gesture-lock\", {\n              attrs: {\n                containerWidth: 590,\n                cycleRadius: 70,\n                password: _vm.password,\n                eventid: \"69ecd97c-0\",\n                mpcomid: \"69ecd97c-1\"\n              },\n              on: { end: _vm.onEnd }\n            })\n          ],\n          1\n        ),\n        _c(\n          \"view\",\n          { staticClass: \"uni-helllo-text uni-common-mt uni-center\" },\n          [_vm._v(_vm._s(_vm.text))]\n        )\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","class GestureLock {\r\n\r\n    constructor(containerWidth, cycleRadius) {\r\n        this.containerWidth = containerWidth; // 容器宽度\r\n        this.cycleRadius = cycleRadius; // 圆的半径\r\n\r\n        this.circleArray = []; // 全部圆的对象数组\r\n        this.checkPoints = []; // 选中的圆的对象数组\r\n        this.lineArray = []; // 已激活锁之间的线段数组\r\n        this.lastCheckPoint = 0; // 最后一个激活的锁\r\n        this.offsetX = 0; // 容器的 X 偏移\r\n        this.offsetY = 0; // 容器的 Y 偏移\r\n        this.activeLine = {}; // 最后一个激活的锁与当前位置之间的线段\r\n\r\n        this.windowWidth = wx.getSystemInfoSync().windowWidth; // 窗口大小(用于rpx 和 px 转换)\r\n\r\n        this.initCircleArray();\r\n    }\r\n\r\n    // 初始化 画布上的 9个圆\r\n    initCircleArray() {\r\n        const cycleMargin = (this.containerWidth - 6 * this.cycleRadius) / 6;\r\n        let count = 0;\r\n        for (let i = 0; i < 3; i++) {\r\n            for (let j = 0; j < 3; j++) {\r\n                count++;\r\n                this.circleArray.push({\r\n                    count: count,\r\n                    x: this.rpxTopx((cycleMargin + this.cycleRadius) * (j * 2 + 1)),\r\n                    y: this.rpxTopx((cycleMargin + this.cycleRadius) * (i * 2 + 1)),\r\n                    radius: this.rpxTopx(this.cycleRadius),\r\n                    check: false,\r\n                    style: {\r\n                        left: (cycleMargin + this.cycleRadius) * (j * 2 + 1) - this.cycleRadius + 'rpx',\r\n                        top: (cycleMargin + this.cycleRadius) * (i * 2 + 1) - this.cycleRadius + 'rpx',\r\n                        width: this.cycleRadius * 2 + 'rpx',\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onTouchStart(e) {\r\n        this.setOffset(e);\r\n        this.checkTouch({\r\n            x: e.touches[0].pageX - this.offsetX,\r\n            y: e.touches[0].pageY - this.offsetY\r\n        });\r\n    }\r\n\r\n    onTouchMove(e) {\r\n        this.moveDraw(e)\r\n    }\r\n\r\n    onTouchEnd(e) {\r\n        const checkPoints = this.checkPoints;\r\n        this.reset();\r\n        return checkPoints;\r\n    }\r\n\r\n    // 初始化 偏移量\r\n    setOffset(e) {\r\n        this.offsetX = e.currentTarget.offsetLeft;\r\n        this.offsetY = e.currentTarget.offsetTop;\r\n    }\r\n\r\n    // 检测当时 触摸位置是否位于 锁上\r\n    checkTouch({\r\n        x,\r\n        y\r\n    }) {\r\n        for (let i = 0; i < this.circleArray.length; i++) {\r\n            let point = this.circleArray[i];\r\n            if (this.isPointInCycle(x, y, point.x, point.y, point.radius)) {\r\n                if (!point.check) {\r\n                    this.checkPoints.push(point.count);\r\n                    if (this.lastCheckPoint != 0) {\r\n                        // 已激活锁之间的线段\r\n                        const line = this.drawLine(this.lastCheckPoint, point);\r\n                        this.lineArray.push(line);\r\n                    }\r\n                    this.lastCheckPoint = point;\r\n                }\r\n                point.check = true;\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    // 画线 - 返回 样式 对象\r\n    drawLine(start, end) {\r\n        const width = this.getPointDis(start.x, start.y, end.x, end.y);\r\n        const rotate = this.getAngle(start, end);\r\n\r\n        return {\r\n            activeLeft: start.x + 'px',\r\n            activeTop: start.y + 'px',\r\n            activeWidth: width + 'px',\r\n            activeRotate: rotate + 'deg'\r\n        }\r\n\r\n    }\r\n\r\n    // 获取 画线的 角度\r\n    getAngle(start, end) {\r\n        var diff_x = end.x - start.x,\r\n            diff_y = end.y - start.y;\r\n        if (diff_x >= 0) {\r\n            return 360 * Math.atan(diff_y / diff_x) / (2 * Math.PI);\r\n        } else {\r\n            return 180 + 360 * Math.atan(diff_y / diff_x) / (2 * Math.PI);\r\n        }\r\n    }\r\n\r\n    // 判断 当前点是否位于 锁内\r\n    isPointInCycle(x, y, circleX, circleY, radius) {\r\n        return (this.getPointDis(x, y, circleX, circleY) < radius) ? true : false;\r\n    }\r\n\r\n    // 获取两点之间距离\r\n    getPointDis(ax, ay, bx, by) {\r\n        return Math.sqrt(Math.pow(ax - bx, 2) + Math.pow(ay - by, 2));\r\n    }\r\n\r\n    // 移动 绘制\r\n    moveDraw(e) {\r\n        // 画经过的圆\r\n        const x = e.touches[0].pageX - this.offsetX;\r\n        const y = e.touches[0].pageY - this.offsetY;\r\n        this.checkTouch({\r\n            x,\r\n            y\r\n        });\r\n\r\n        // 画 最后一个激活的锁与当前位置之间的线段\r\n        this.activeLine = this.drawLine(this.lastCheckPoint, {\r\n            x,\r\n            y\r\n        });\r\n    }\r\n\r\n    // 使 画布 恢复初始状态\r\n    reset() {\r\n        this.circleArray.forEach((item) => {\r\n            item.check = false;\r\n        });\r\n        this.checkPoints = [];\r\n        this.lineArray = [];\r\n        this.activeLine = {};\r\n        this.lastCheckPoint = 0;\r\n    }\r\n\r\n\r\n    // 获取 最后一个激活的锁与当前位置之间的线段\r\n    getActiveLine() {\r\n        return this.activeLine;\r\n    }\r\n\r\n    // 获取 圆对象数组\r\n    getCycleArray() {\r\n        return this.circleArray;\r\n    }\r\n\r\n    // 获取 已激活锁之间的线段\r\n    getLineArray() {\r\n        return this.lineArray;\r\n    }\r\n\r\n    // 将 RPX 转换成 PX\r\n    rpxTopx(rpx) {\r\n        return rpx / 750 * this.windowWidth;\r\n    }\r\n}\r\n\r\nexport default GestureLock;\r\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=244fc5e3&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=244fc5e3&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"244fc5e3\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('244fc5e3', component.options)\n    } else {\n      api.reload('244fc5e3', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=244fc5e3&scoped=true&\", function () {\n      api.rerender('244fc5e3', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/uni/city_dynamic/cal/components/mpvueGestureLock/index.vue\"\nexport default component.exports","import mod from \"-!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=244fc5e3&scoped=true&lang=css&\"; export default mod; export * from \"-!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=244fc5e3&scoped=true&lang=css&\"","export * from \"-!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./index.vue?vue&type=template&id=244fc5e3&scoped=true&\"","import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/template/gesture-lock/gesture-lock.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./gesture-lock.vue?vue&type=template&id=66ce80df&\"\nimport script from \"./gesture-lock.vue?vue&type=script&lang=js&\"\nexport * from \"./gesture-lock.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('66ce80df', component.options)\n    } else {\n      api.reload('66ce80df', component.options)\n    }\n    module.hot.accept(\"./gesture-lock.vue?vue&type=template&id=66ce80df&\", function () {\n      api.rerender('66ce80df', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/uni/city_dynamic/cal/pages/template/gesture-lock/gesture-lock.vue\"\nexport default component.exports","import mod from \"-!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./gesture-lock.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--18-0!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./gesture-lock.vue?vue&type=script&lang=js&\"","export * from \"-!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Downlods\\\\002\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./gesture-lock.vue?vue&type=template&id=66ce80df&\""],"sourceRoot":""}